# Dual-Writer Configuration
# ScyllaDB/Cassandra Migration Tool

source:
  hosts:
    - "scylla-source-1.gcp.example.com"
    - "scylla-source-2.gcp.example.com"
    - "scylla-source-3.gcp.example.com"
  port: 9042
  keyspace: "production_keyspace"
  username: null  # Optional: uncomment and set if authentication required
  password: null  # Optional: uncomment and set if authentication required
  connection_timeout: 5s
  request_timeout: 10s
  pool_size: 4

target:
  hosts:
    - "scylla-target-1.aws.example.com"
    - "scylla-target-2.aws.example.com"
    - "scylla-target-3.aws.example.com"
  port: 9042
  keyspace: "production_keyspace"
  username: null
  password: null
  connection_timeout: 5s
  request_timeout: 10s
  pool_size: 4

writer:
  # Write modes:
  # - SourceOnly: Write only to source (pre-migration)
  # - DualAsync: Write to source (sync), target (async non-blocking) - RECOMMENDED
  # - DualSync: Write to both synchronously (slower but guaranteed consistency)
  # - TargetOnly: Write only to target (post-migration)
  mode: DualAsync
  
  # Timeout for shadow writes (milliseconds)
  shadow_timeout_ms: 5000
  
  # Retry configuration for failed shadow writes
  retry_interval_secs: 30
  max_retry_attempts: 3
  
  # Batch configuration
  batch_size: 100

observability:
  # Prometheus metrics port
  metrics_port: 9090
  
  # Log level: trace, debug, info, warn, error
  log_level: "info"
  
  # Optional: Jaeger tracing endpoint
  jaeger_endpoint: null  # Example: "http://jaeger:14268/api/traces"